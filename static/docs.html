<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - Browser API</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
        }
        .api-endpoint {
            scroll-margin-top: 80px;
        }
        .gradient-text {
            background: linear-gradient(to right, #34D399, #A78BFA);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1f2937; /* bg-gray-800 */
        }
        ::-webkit-scrollbar-thumb {
            background: #4b5563; /* bg-gray-600 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280; /* bg-gray-500 */
        }
    </style>
</head>
<body class="text-gray-300">

    <!-- Header -->
    <header class="sticky top-0 bg-gray-900/80 backdrop-blur-lg z-30 border-b border-gray-800">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="/index.html" class="text-2xl font-bold text-white">
                <span class="gradient-text">Browser API</span>
            </a>
            <div class="flex items-center space-x-4">
                <a href="/index.html#getting-started" class="text-gray-300 hover:text-white">Getting Started</a>
            </div>
        </nav>
    </header>

    <div class="container mx-auto px-6 lg:grid lg:grid-cols-12 gap-8">
        <!-- Sidebar -->
        <aside class="hidden lg:block lg:col-span-3 py-8">
            <div class="sticky top-24">
                <h3 class="text-lg font-semibold text-white mb-4">API Reference</h3>
                <ul class="space-y-2">
                    <li><a href="#introduction" class="text-gray-400 hover:text-green-400">Introduction</a></li>
                    <li><a href="#authentication" class="text-gray-400 hover:text-green-400">Authentication</a></li>
                    <li>
                        <span class="font-semibold text-gray-200">Extraction</span>
                        <ul class="pl-4 mt-2 space-y-2 border-l border-gray-700">
                            <li><a href="#extract-get" class="text-gray-400 hover:text-green-400">GET /extract</a></li>
                            <li><a href="#extract-post" class="text-gray-400 hover:text-green-400">POST /extract</a></li>
                        </ul>
                    </li>
                    <li class="pt-2">
                        <span class="font-semibold text-gray-200">CSS Collection</span>
                         <ul class="pl-4 mt-2 space-y-2 border-l border-gray-700">
                            <li><a href="#css-collect" class="text-gray-400 hover:text-green-400">GET /css/collect</a></li>
                            <li><a href="#css-scope" class="text-gray-400 hover:text-green-400">GET /css/collect/scope</a></li>
                        </ul>
                    </li>
                     <li class="pt-2">
                        <span class="font-semibold text-gray-200">JS Collection</span>
                         <ul class="pl-4 mt-2 space-y-2 border-l border-gray-700">
                            <li><a href="#js-collect" class="text-gray-400 hover:text-green-400">GET /js/collect</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="lg:col-span-6 py-8">
            <section id="introduction" class="api-endpoint mb-16">
                <h1 class="text-4xl font-bold text-white mb-4">API Documentation</h1>
                <p class="text-lg text-gray-400">
                    Welcome to the Browser API documentation. This document provides a detailed reference for all available API endpoints.
                    The base URL for all endpoints is <code class="bg-gray-700 text-sm p-1 rounded-md font-mono">/api/v1</code>.
                </p>
            </section>

            <section id="authentication" class="api-endpoint mb-16">
                <h2 class="text-3xl font-bold text-white mb-4">Authentication</h2>
                <p class="text-gray-400">
                    The API is open and does not require authentication for any of its current endpoints.
                </p>
            </section>

            <!-- Extraction Endpoints -->
            <div id="extraction" class="api-endpoint mb-12">
                 <h2 class="text-3xl font-bold text-white mb-4 border-t border-gray-700 pt-8">Extraction API</h2>
                 <p class="text-gray-400 mb-8">Endpoints for extracting content from web pages.</p>
            </div>

            <section id="extract-get" class="api-endpoint mb-16">
                <h3 class="text-2xl font-semibold text-white mb-4">
                    <span class="font-mono text-sm py-1 px-2 rounded-md bg-green-800 text-green-300">GET</span>
                    <span class="ml-2 font-mono">/extract</span>
                </h3>
                <p class="text-gray-400 mb-6">Extracts content from a URL using query parameters. Ideal for simple, bookmarkable requests.</p>

                <h4 class="text-xl font-semibold text-white mb-3">Query Parameters</h4>
                <div class="border border-gray-700 rounded-lg">
                    <div class="p-4 border-b border-gray-700"><code class="font-mono text-green-400">url</code> <span class="text-gray-500">string, required</span></div>
                    <div class="p-4 border-b border-gray-700"><code class="font-mono text-green-400">type</code> <span class="text-gray-500">string, required</span></div>
                    <div class="p-4 border-b border-gray-700"><code class="font-mono text-green-400">selector</code> <span class="text-gray-500">string, required</span></div>
                    <div class="p-4 border-b border-gray-700"><code class="font-mono text-green-400">wait</code> <span class="text-gray-500">string</span></div>
                    <div class="p-4"><code class="font-mono text-green-400">all</code> <span class="text-gray-500">boolean</span></div>
                </div>
            </section>

            <section id="extract-post" class="api-endpoint mb-16">
                <h3 class="text-2xl font-semibold text-white mb-4">
                    <span class="font-mono text-sm py-1 px-2 rounded-md bg-blue-800 text-blue-300">POST</span>
                    <span class="ml-2 font-mono">/extract</span>
                </h3>
                <p class="text-gray-400 mb-6">Extracts content using a JSON request body. Best for complex extractions with nested schemas or multiple options.</p>

                <h4 class="text-xl font-semibold text-white mb-3">Request Body</h4>
                <p class="text-gray-400 mb-4">The POST endpoint accepts a JSON body with the extraction parameters.</p>
            </section>

            <!-- CSS Collection Endpoints -->
            <div id="css-collection" class="api-endpoint mb-12">
                 <h2 class="text-3xl font-bold text-white mb-4 border-t border-gray-700 pt-8">CSS Collection API</h2>
                 <p class="text-gray-400 mb-8">Endpoints for collecting all CSS related to a component.</p>
            </div>

            <section id="css-collect" class="api-endpoint mb-16">
                <h3 class="text-2xl font-semibold text-white mb-4">
                    <span class="font-mono text-sm py-1 px-2 rounded-md bg-green-800 text-green-300">GET</span>
                    <span class="ml-2 font-mono">/css/collect</span>
                </h3>
                <p class="text-gray-400 mb-6">Collects all CSS rules, variables, and stylesheets affecting a component. Returns a JSON object.</p>
            </section>

            <section id="css-scope" class="api-endpoint mb-16">
                <h3 class="text-2xl font-semibold text-white mb-4">
                    <span class="font-mono text-sm py-1 px-2 rounded-md bg-green-800 text-green-300">GET</span>
                    <span class="ml-2 font-mono">/css/collect/scope</span>
                </h3>
                <p class="text-gray-400 mb-6">Collects and scopes CSS with a unique namespace to prevent conflicts. Can also be retrieved as <code class="bg-gray-700 p-1 rounded-md font-mono">/css/collect/scope/css</code>.</p>
            </section>

            <!-- JS Collection Endpoints -->
            <div id="js-collection" class="api-endpoint mb-12">
                 <h2 class="text-3xl font-bold text-white mb-4 border-t border-gray-700 pt-8">JavaScript Collection API</h2>
                 <p class="text-gray-400 mb-8">Endpoints for collecting all JavaScript related to a component.</p>
            </div>

            <section id="js-collect" class="api-endpoint mb-16">
                <h3 class="text-2xl font-semibold text-white mb-4">
                    <span class="font-mono text-sm py-1 px-2 rounded-md bg-green-800 text-green-300">GET</span>
                    <span class="ml-2 font-mono">/js/collect</span>
                </h3>
                <p class="text-gray-400 mb-6">Collects all JavaScript for a component, including event listeners, inline handlers, and script tags.</p>
            </section>

        </main>

        <!-- Right Panel - Code Examples -->
        <aside class="hidden lg:block lg:col-span-3 py-8">
            <div class="sticky top-24">
                <div class="bg-gray-800 rounded-xl border border-gray-700">
                    <div class="p-4 border-b border-gray-700">
                        <h4 class="text-lg font-semibold text-white">Examples</h4>
                    </div>
                    <div class="p-4">
                        <h5 class="text-sm font-semibold text-gray-400 mb-2">GET /extract</h5>
                        <pre class="text-sm text-gray-300 overflow-x-auto"><code class="language-bash">
curl "localhost:8080/api/v1/extract
  ?url=https://example.com
  &type=HTML
  &selector=h1"
                        </code></pre>
                    </div>
                    <div class="p-4 border-t border-gray-700">
                        <h5 class="text-sm font-semibold text-gray-400 mb-2">POST /extract</h5>
                        <pre class="text-sm text-gray-300 overflow-x-auto"><code class="language-bash">
curl -X POST localhost:8080/api/v1/extract \
-H "Content-Type: application/json" \
-d '{ 
  "url": "https://example.com", 
  "type": "HTML", 
  "selector": "h1" 
}'
                        </code></pre>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 py-8 mt-16 border-t border-gray-800">
        <div class="container mx-auto px-6 text-center text-gray-500">
            <p>&copy; 2025 Browser API. All rights reserved.</p>
        </div>
    </footer>
    <script src="/static/js/main.js"></script>
</body>
</html>